<---------------------ALUMNOS---------------------->
CREATE TABLE Alumnos(
matricula bigint NOT NULL,
apellido_paterno character varying(70) NOT NULL,
apellido_materno character varying(70) NOT NULL,
nombre_s character varying(60) NOT NULL,
correo_1 character varying(160) NOT NULL,
correo_2 character varying(160),
telefono bigint,
celular bigint,
nacionalidad character varying(40) NOT NULL,
direccion character varying(250),
fecha_nacimiento date,
contraseña_rapida bigint,
contraseña_cambios character varying(40),
nivel character varying(10),
CONSTRAINT pk_matricula PRIMARY KEY (matricula),
CONSTRAINT u_matricula UNIQUE (matricula),
CONSTRAINT chk_matricula CHECK (matricula > 0 )
);

<------------------COASESOR--------------------->
CREATE TABLE Coasesor(
clave_c bigint NOT NULL,
nombre_coasesor character varying(200),
correo_c character varying(160),
CONSTRAINT pk_clave_c PRIMARY KEY (clave_c),
CONSTRAINT u_clave_c UNIQUE (clave_c)
);

<------------------TUTOR------------------------>
CREATE TABLE Tutor(
clave_t bigint NOT NULL,
nombre_tutor character varying(200),
correo_t character varying(160),
CONSTRAINT pk_clave_t PRIMARY KEY (clave_t),
CONSTRAINT u_clave_t UNIQUE (clave_t)
);

<----------------------ASESOR-------------------->
CREATE TABLE Asesor(
clave_a bigint NOT NULL,
nombre_asesor character varying(200),
correo_a character varying(160),
CONSTRAINT pk_clave_a PRIMARY KEY (clave_a),
CONSTRAINT u_clave_a UNIQUE (clave_a)
);

<---------------------PROFESOR------------------->
CREATE TABLE Profesor(
clave_p bigint NOT NULL,
nombre_profesor character varying(200),
correo_p character varying(160),
CONSTRAINT pk_clave_p PRIMARY KEY (clave_p),
CONSTRAINT u_clave_p UNIQUE (clave_p)
);

<-------------------------ACTIVO-------------------->
CREATE TABLE Actividad(
numero int NOT NULL,
actividad character varying(20),
CONSTRAINT pk_numero PRIMARY KEY (numero),
CONSTRAINT u_numero UNIQUE (numero)
);

<---------------------MAestria----------------------->
CREATE TABLE Maestria(
cvu_maestria integer NOT NULL,
matricula bigint NOT NULL,
grado_ultimo character varying(15),
activo_no int,
fecha_ingreso character varying(4),
fecha_egreso date,
tutor bigint NOT NULL,
asesor bigint NOT NULL,
coasesor bigint NOT NULL,
CONSTRAINT pk_cvu_maestria PRIMARY KEY (cvu_maestria),
CONSTRAINT u_cvu_maestria UNIQUE (cvu_maestria),
CONSTRAINT fk_activo_no FOREIGN KEY (activo_no) REFERENCES Actividad (numero),
CONSTRAINT fk_matricula FOREIGN KEY (matricula) REFERENCES Alumnos (matricula),
CONSTRAINT fk_tutor FOREIGN KEY (tutor) REFERENCES Tutor (clave_t),
CONSTRAINT fk_asesor FOREIGN KEY (asesor) REFERENCES Asesor (clave_a),
CONSTRAINT fk_coasesor FOREIGN KEY (coasesor) REFERENCES Coasesor (clave_c)
);

<------------------------POSGRADO------------------------->
CREATE TABLE Posgrado(
cvu_posgrado integer NOT NULL,
matricula bigint NOT NULL,
grado_ultimo character varying(15),
activo_no int,
fecha_ingreso character varying(4),
fecha_egreso date,
tutor bigint NOT NULL,
profesor_responsable bigint NOT NULL,
asesor bigint NOT NULL,
fecha_predoctoral date,
CONSTRAINT pk_cvu_posgrado PRIMARY KEY (cvu_posgrado),
CONSTRAINT u_cvu_posgrado UNIQUE (cvu_posgrado),
CONSTRAINT fk_matricula FOREIGN KEY (matricula) REFERENCES Alumnos (matricula),
CONSTRAINT fk_activo_no FOREIGN KEY (activo_no) REFERENCES Actividad (numero),
CONSTRAINT fk_tutor FOREIGN KEY (tutor) REFERENCES Tutor (clave_t),
CONSTRAINT fk_profesor_responsable FOREIGN KEY (profesor_responsable) REFERENCES Profesor (clave_p),
CONSTRAINT fk_asesor FOREIGN KEY (asesor) REFERENCES asesor (clave_a)
);

<-------------------------UEA-------------------------->
CREATE TABLE UEA(
clave_uea integer NOT NULL,
nombre_uea character varying(70),
creditos integer NOT NULL,
horas_teoria character varying(4),
horas_practica character varying(4),
CONSTRAINT pk_clave_uea PRIMARY KEY (clave_uea),
CONSTRAINT u_clave_uea UNIQUE (clave_uea),
CONSTRAINT chk_clave_uea CHECK (clave_uea > 0 )
);

<-------------------HORARIO------------------------->
CREATE TABLE Horario(
clave_horario SERIAL NOT NULL,
matricula bigint NOT NULL,
clave_uea integer NOT NULL,
clave_p bigint,
CONSTRAINT pk_clave_horario PRIMARY KEY (clave_horario),
CONSTRAINT u_clave_horario UNIQUE (clave_horario),
CONSTRAINT fk_matricula FOREIGN KEY (matricula) REFERENCES Alumnos (matricula),
CONSTRAINT fk_clave_uea FOREIGN KEY (clave_uea) REFERENCES UEA (clave_uea),
CONSTRAINT fk_clave_p FOREIGN KEY (clave_p) REFERENCES Profesor (clave_p)
);
